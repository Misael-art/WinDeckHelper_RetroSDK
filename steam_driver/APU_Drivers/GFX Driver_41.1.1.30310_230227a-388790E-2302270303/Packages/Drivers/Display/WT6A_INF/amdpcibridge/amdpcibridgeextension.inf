[Version]
Signature   = "$WINDOWS NT$"
Class       = Extension
ClassGuid   = {e2f84ce7-8efa-411c-aa69-97454ca4cb57}
Provider    = %AMD%
ExtensionId = {122E82D5-85D9-4053-8EAA-E3C2051F3276}
DriverVer   = 06/28/2021,21.30.0.0
CatalogFile = amdpcibridgeextension.cat

[Manufacturer]
%AMD% = DeviceExtensions,NTamd64

[DeviceExtensions.NTamd64]
%Device.ExtensionDesc% = DeviceExtension_DownstreamSwitch, PCI\VEN_1002&DEV_1479
%Device.ExtensionDesc% = DeviceExtension_UpstreamSwitch, PCI\VEN_1002&DEV_1478

[DeviceExtension_DownstreamSwitch]
; No changes

[DeviceExtension_DownstreamSwitch.HW]
AddReg = DeviceDownstreamSwitchRegSettings_AddReg

[DeviceDownstreamSwitchRegSettings_AddReg]
HKR,,FriendlyName,, "AMD PCI Express Downstream Switch Port"
HKR,e5b3b5ac-9725-4f78-963f-03dfb1d828c7,BridgeUseNativeWakeInfo,%REG_DWORD%,1
HKR,e5b3b5ac-9725-4f78-963f-03dfb1d828c7,BusDataLinkSettleTime,%REG_DWORD%,0

[DeviceExtension_UpstreamSwitch]
; No changes

[DeviceExtension_UpstreamSwitch.HW]
AddReg = DeviceUpstreamSwitchRegSettings_AddReg

[DeviceUpstreamSwitchRegSettings_AddReg]
HKR,,FriendlyName,, "AMD PCI Express Upstream Switch Port"
HKR,e5b3b5ac-9725-4f78-963f-03dfb1d828c7,BridgeUseNativeWakeInfo,%REG_DWORD%,1
HKR,e5b3b5ac-9725-4f78-963f-03dfb1d828c7,BusDataLinkSettleTime,%REG_DWORD%,0
HKR,e5b3b5ac-9725-4f78-963f-03dfb1d828c7,DeviceD0DelayTime,%REG_DWORD%,0

[Strings]
AMD              = "AMD"
Device.ExtensionDesc = "AMD PCI Bridge Device Extension"
REG_SZ         = 0x00000000
REG_MULTI_SZ   = 0x00010000
REG_EXPAND_SZ  = 0x00020000
REG_BINARY     = 0x00000001
REG_DWORD      = 0x00010001
FLG_ADDREG_KEYONLY = 0x00000010